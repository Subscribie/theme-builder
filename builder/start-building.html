{% extends "layout.html" %}
{% block title %}New Customer{% endblock %}


{% block body %}

<div class="jumbotron jumbotron-fluid">                                          
    <div class="container">                                                      
        <div class="row">                                                        
            <div class="col-sm">                                                 
            <h1 class="display-4">Let's get started!</h1>
            <h2 class="display-6">
            Start by adding your business name &amp; packages
            </h2>
            <hr class="my-4">                                                    
             <div class="flashy-container"><div class="flashy"></div></div>               
            <p>We're looking forward to having you onboard! To get started,
            enter your packages and/or services below. 
            You can add as many or few as you'd like</p>                           
            </div>                                                               
        </div>
        <div class="container">                                                     
            <div class="row">
                <div class="col-sm">                                                 
<form enctype="multipart/form-data" action="/start-building" method="POST">
                        {{ form.csrf_token }}

                        <div class="row">
                            <div class="col">
                            <label for="company_name">Business Name</label>
                            <input class="form-control" type="text" 
                                   name="company_name"
                                   id="company_name"
                                    placeholder="E.g. My Business" required>
                            </div>
                            <div class="col">
                            <label for="email">Email</label>
                            <input class="form-control" type="email" 
                                   name="email" id="email" placeholder="me@example.com"
                                required>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>                                                                       
</div>

<div class="container">


    <div class="item">
        <div class="form-group">
        <h3><label for="title-0">Package or Service name
            <small style="font-size: 59%;font-style: italic;">
                Required
            </small>
            </label>
        </h3>
        <input class="form-control" type="text" name="title-0" id="title-0"
            aria-describedby="itemHelpBlock-0" 
            placeholder="E.g. Coffee Subscription" required>
        <small id="itemHelpBlock-0" class="form-text text-muted">
          What subscription service do you sell? Enter the title here. 
          Perhaps you sell coffee every month <i class="fas fa-coffee"></i>,
          or, perhaps a funky personal trainer collecting monthly fees for your 
          zumba clases.
        </small>
        </div>
        
        <div class="form-group">
        <h3><label for="image-0">Picture 
            <small style="font-size: 59%;font-style: italic;">
                Recommended
            </small>
            </label>
        </h3>
        <input type="file" name="image0" id="image-0" />
        <small id="pictureHelpBlock-0" class="form-text text-muted">
            This picture appears when your customers are choosing between 
            the different packages you offer.
        </small>
        </div>

        <h3>Pricing</h3>

        <div class="recurring-price">
			<div class="form-group form-check">
			<input name="subscription-0" id="subscription-0" 
				   class="form-check-input" id="item1_r_price" type="checkbox"
                   aria-describedby="subscriptionHelpBlock-0">
			<label for="subscription-0">Re-occuring Price <small>(Optional)</small></label>
            <small id="subscriptionHelpBlock-0" class="form-text text-muted">
                Do you want to take a recurring amount for this service?
            </small>
			</div>

			<div class="input-group d-none">
				<div class="input-group-prepend">
				  <span class="input-group-text">&pound;</span>
				</div>
			<input name="monthly_price-0" id="item1_r_price_value" 
                class="form-control" type="text" 
                placeholder="0.00">
			</div>
		</div>
        <br />
        <div class="up-front-price">
            <div class="form-group form-check">
            <input name="instant_payment-0" id="instant_payment-0" 
              class="form-check-input" type="checkbox"
              aria-describedby="instant_paymentHelpBlock-0">
            <label for="instant_payment-0">One-Off Price? <small>(Optional)</small></label>
            <small id="instant_paymentHelpBlock-0" class="form-text text-muted">
                Do you want to take an up-front payment for this service? E.g. 
                perhaps your subscription requires an initial higher fee to 
                cover costs, and a monthly fee thereafter.
            </small>
            </div>
                          
            <div class="input-group d-none">
                <div class="input-group-prepend">
                  <span class="input-group-text">&pound;</span>
                </div>
            <input name="sell_price-0" id="sell_price-0_value" 
                class="form-control" type="text" 
                placeholder="0.00">
            </div>
        </div>
        <br />

        <h3><label for="selling_points-0-0">Item's Selling Points</label></h3>
        <small id="selling_pointsHelpBlock-0-0" class="form-text text-muted">
            What are your <em>top three</em> selling points your customer 
            will want to buy this subscription?
        </small>
        <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">1</span>
            </div>
            <input name="selling_points-0-0" id="selling_points-0-0" 
                   class="form-control"
                   placeholder="The best hand-roasted coffee"
                   aria-describedby="selling_pointsHelpBlock-0-0" type="text">
        </div>
        <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">2</span>
            </div>
            <input name="selling_points-0-1" class="form-control" 
                placeholder="New flavours every month" type="text">
        </div>
        <div class="input-group">
            <div class="input-group-prepend">
              <span class="input-group-text">3</span>
            </div>
            <input name="selling_points-0-2" class="form-control" type="text"
                placeholder="Money back guarantee">
        </div>
    </div><!-- end .item -->

    <br />
    <button type="submit" class="btn btn-primary">Save</button>

</form>
    </section>

</div>

<section id="building-site-overlay">
    <span>Building your site <small>...please wait</small></span>
</section>

<style type="text/css">
#building-site-overlay{
    height: 100%;
    width: 100%;
    top: 0px;
    background: #060606e0;
    position: fixed;
    z-index: 999999;
    color: white;
    justify-content: center;
    align-items: center;
    display: none;
}

#building-site-overlay span {
    color: white;
    position: absolute;
    top: 50%;
    left: 50%;
    font-size: 2.5rem;
    transform: translate(-50%, -50%);
}

</style>

<script>
// Wrapper

checkboxes = document.querySelectorAll('input[type="checkbox"]');

for (let checkbox of checkboxes) {

	checkbox.addEventListener('click', function() {
	this.parentElement.parentElement.querySelector('.input-group').classList.toggle('d-none');
		console.log("ok");
	});

}

/* Show building site overlay after form submission */
document.forms[0].addEventListener('submit', function(e) {
document.getElementById('building-site-overlay').style.display="flex";
window.scrollTo(0,0);
});


</script>

{% endblock %}
